<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="image/png" href="/favicon-96x96.png" rel="icon" sizes="96x96">
<link type="image/svg+xml" href="/favicon.svg" rel="icon">
<link href="./favicon/favicon.ico" rel="shortcut icon">
<link href="/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180">
<link href="/site.webmanifest" rel="manifest">
    <link href="style.css" rel="stylesheet">
    <link href="credit_card.css" rel="stylesheet">
    <script src="knockout-2.1.0.js" type="text/javascript"></script>
    <link href="https://fonts.googleapis.com/css?family=Poppins" rel="stylesheet">
    <title>hello, Knockout.js</title>
</head>
<body>

<section class="container">
    <!-- card section -->
    <h1 class="title">Hello, Knockout.js</h1>
    <div class="header-container">
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <p class="heading_8264">MASTERCARD</p>
                    <svg class="logo" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="36" height="36" viewBox="0 0 48 48">
                    <path fill="#ff9800" d="M32 10A14 14 0 1 0 32 38A14 14 0 1 0 32 10Z"></path><path fill="#d50000" d="M16 10A14 14 0 1 0 16 38A14 14 0 1 0 16 10Z"></path><path fill="#ff3d00" d="M18,24c0,4.755,2.376,8.95,6,11.48c3.624-2.53,6-6.725,6-11.48s-2.376-8.95-6-11.48 C20.376,15.05,18,19.245,18,24z"></path>
                    </svg>
                    <svg id="Layer_1" class="chip" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="30px" height="30px" viewBox="0 0 50 50" xml:space="preserve">  <image id="image0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAABGdBTUEAALGPC/xhBQAAACBjSFJN
                      AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB6VBMVEUAAACNcTiVeUKVeUOY
                      fEaafEeUeUSYfEWZfEaykleyklaXe0SWekSZZjOYfEWYe0WXfUWXe0WcgEicfkiXe0SVekSXekSW
                      ekKYe0a9nF67m12ZfUWUeEaXfESVekOdgEmVeUWWekSniU+VeUKVeUOrjFKYfEWliE6WeESZe0GS
                      e0WYfES7ml2Xe0WXeESUeEOWfEWcf0eWfESXe0SXfEWYekSVeUKXfEWxklawkVaZfEWWekOUekOW
                      ekSYfESZe0eXekWYfEWZe0WZe0eVeUSWeETAnmDCoWLJpmbxy4P1zoXwyoLIpWbjvXjivnjgu3bf
                      u3beunWvkFWxkle/nmDivXiWekTnwXvkwHrCoWOuj1SXe0TEo2TDo2PlwHratnKZfEbQrWvPrWua
                      fUfbt3PJp2agg0v0zYX0zYSfgkvKp2frxX7mwHrlv3rsxn/yzIPgvHfduXWXe0XuyIDzzISsjVO1
                      lVm0lFitjVPzzIPqxX7duna0lVncuHTLqGjvyIHeuXXxyYGZfUayk1iyk1e2lln1zYTEomO2llrb
                      tnOafkjFpGSbfkfZtXLhvHfkv3nqxH3mwXujhU3KqWizlFilh06khk2fgkqsjlPHpWXJp2erjVOh
                      g0yWe0SliE+XekShhEvAn2D///+gx8TWAAAARnRSTlMACVCTtsRl7Pv7+vxkBab7pZv5+ZlL/UnU
                      /f3SJCVe+Fx39naA9/75XSMh0/3SSkia+pil/KRj7Pr662JPkrbP7OLQ0JFOijI1MwAAAAFiS0dE
                      orDd34wAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IDx2lsiuJAAACLElEQVRIx2Ng
                      GAXkAUYmZhZWPICFmYkRVQcbOwenmzse4MbFzc6DpIGXj8PD04sA8PbhF+CFaxEU8iWkAQT8hEVg
                      OkTF/InR4eUVICYO1SIhCRMLDAoKDvFDVhUaEhwUFAjjSUlDdMiEhcOEItzdI6OiYxA6YqODIt3d
                      I2DcuDBZsBY5eVTr4xMSYcyk5BRUOXkFsBZFJTQnp6alQxgZmVloUkrKYC0qqmji2WE5EEZuWB6a
                      lKoKdi35YQUQRkFYPpFaCouKIYzi6EDitJSUlsGY5RWVRGjJLyxNy4ZxqtIqqvOxaVELQwZFZdkI
                      JVU1RSiSalAt6rUwUBdWG1CP6pT6gNqwOrgCdQyHNYR5YQFhDXj8MiK1IAeyN6aORiyBjByVTc0F
                      qBoKWpqwRCVSgilOaY2OaUPw29qjOzqLvTAchpos47u6EZyYnngUSRwpuTe6D+6qaFQdOPNLRzOM
                      1dzhRZyW+CZouHk3dWLXglFcFIflQhj9YWjJGlZcaKAVSvjyPrRQ0oQVKDAQHlYFYUwIm4gqExGm
                      BSkutaVQJeomwViTJqPK6OhCy2Q9sQBk8cY0DxjTJw0lAQWK6cOKfgNhpKK7ZMpUeF3jPa28BCET
                      amiEqJKM+X1gxvWXpoUjVIVPnwErw71nmpgiqiQGBjNzbgs3j1nus+fMndc+Cwm0T52/oNR9lsdC
                      S24ra7Tq1cbWjpXV3sHRCb1idXZ0sGdltXNxRateRwHRAACYHutzk/2I5QAAACV0RVh0ZGF0ZTpj
                      cmVhdGUAMjAyMy0wMi0xM1QwODoxNToyOSswMDowMEUnN7UAAAAldEVYdGRhdGU6bW9kaWZ5ADIw
                      MjMtMDItMTNUMDg6MTU6MjkrMDA6MDA0eo8JAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTAy
                      LTEzVDA4OjE1OjI5KzAwOjAwY2+u1gAAAABJRU5ErkJggg==" width="50" height="50" x="0" y="0"></image>
                    </svg>
                    <svg id="Layer_1" class="contactless" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="0 0 50 50" xml:space="preserve">  <image id="image0" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAQAAAC0NkA6AAAABGdBTUEAALGPC/xhBQAAACBjSFJN
                      AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZ
                      cwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IEzgIwaKTAAADDklEQVRYw+1XS0iUURQ+f5qPyjQf
                      lGRFEEFK76koKGxRbWyVVLSOgsCgwjZBJJYuKogSIoOonUK4q3U0WVBWFPZYiIE6kuArG3VGzK/F
                      fPeMM/MLt99/NuHdfPd888/57jn3nvsQWWj/VcMlvMMd5KRTogqx9iCdIjUUmcGR9ImUYowyP3xN
                      GQJoRLVaZ2DaZf8kyjEJALhI28ELioyiwC+Rc3QZwRYyO/DH51hQgWm6DMIh10KmD4u9O16K49it
                      VoPOAmcGAWWOepXIRScAoJZ2Frro8oN+EyTT6lWkkg6msZfMSR35QTJmjU0g15tIGSJ08ZZMJkJk
                      HpNZgSkyXosS13TkJpZ62mPIJvOSzC1bp8vRhhCakEk7G9/o4gmZdbpsTcKu0m63FbnBP9Qrc15z
                      bkbemfgNDtEOI8NO5L5O9VYyRYgmJayZ9nPaxZrSjW4+F6Uw9yQqIiIZwhp2huQTf6OIvCZyGM6g
                      DJBZbyXifJXr7FZjGXsdxADxI7HUJFB6iWvsIhFpkoiIiGTJfjJfiCuJg2ZEspq9EHGVpYgzKqwJ
                      qSAOEwuJQ/pxPvE3cYltJCLdxBLiSKKIE5HxJKcTRNeadxfhDiuYw44zVs1dxKwRk/uCxIiQkxKB
                      sSctRVAge9g1E15EHE6yRUaJecRxcWlukdRIbGFOSZCMWQA/iWauIP3slREHXPyliqBcrrD71Amz
                      Z+rD1Mt2Yr8TZc/UR4/YtFnbijnHi3UrN9vKQ9rPaJf867ZiaqDB+czeKYmd3pNa6fuI75MiC0uX
                      XSR5aEMf7s7a6r/PudVXkjFb/SsrCRfROk0Fx6+H1i9kkTGn/E1vEmt1m089fh+RKdQ5O+xNJPUi
                      cUIjO0Dm7HwvErEr0YxeibL1StSh37STafE4I7zcBdRq1DiOkdmlTJVnkQTBTS7X1FYyvfO4piaI
                      nKbDCDaT2anLudYXCRFsQBgAcIF2/Okwgvz5+Z4tsw118dzruvIvjhTB+HOuWy8UvovEH6beitBK
                      xDyxm9MmISKCWrzB7bSlaqGlsf0FC0gMjzTg6GgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDIt
                      MTNUMDg6MTk6NTYrMDA6MDCjlq7LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAyLTEzVDA4OjE5
                      OjU2KzAwOjAw0ssWdwAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMi0xM1QwODoxOTo1Nisw
                      MDowMIXeN6gAAAAASUVORK5CYII=" width="50" height="50" x="0" y="0"></image>
                    </svg>
                    <p class="number">9759 2484 5269 6576</p>
                    <p class="valid_thru">VALID THRU</p>
                    <p class="date_8264">1 2 / 2 4</p>
                    <p class="name">BRUCE WAYNE</p>
                </div>
                <div class="flip-card-back">
                    <div class="strip"></div>
                    <div class="mstrip"></div>
                    <div class="sstrip">
                      <p class="code">***</p>
                    </div>
                </div>
            </div>
        </div>
   

    </div>

    <p>Hello, 
        <span data-bind="text: firstName"></span>
        <span data-bind="text: lastName"></span>
        Fullname: <span data-bind="text: fullName"></span>
    </p>


<!-- From Uiverse.io by SupportHotline --> 
<div class="buttons-container">
    <button class="button" data-bind="click: checkout">
        <div class="text">Checkout</div>
      </button>
    <button class="button" data-bind="click: addProduct">
        <div class="text">Add Beer</div>
      </button>
    <button class="button" data-bind="click: debugItems">
        <div class="text">debug</div>
      </button>
</div>
  

    <table>
        <thead>
            <th>Index</th>
            <th>Product</th>
            <th>Price</th>
            <th>Tags</th>
            <td class="discount-header">Discount</td>
        </thead>
            
        <tbody data-bind="foreach: shoppingCard">
            <tr>
                <td data-bind="text: $index"></td>
                <td data-bind="text: nombre"></td>
                <td data-bind="text: precio"></td>
                
                <td>
                    <ul data-bind="foreach: tags">
                        <!-- <li data-bind="text: $data"></li> -->
                        <li>
                            <span class="tag__name" data-bind="text: $parent.nombre"></span>
                            -
                            <span data-bind="text: $data"></span>
                        </li>
                    </ul>
                </td>
                <td>
                    <div data-bind="if: discount() > 0">
                        <span data-bind="text: formattedDiscount">saved</span>
                        
                        
                    </div>
                    <span data-bind="ifnot: discount">No discount</span>
                </td>
                <td>
                    <!-- <button data-bind="click: $root.removeProduct">Delete</button> -->
                    <button class="delete-button" data-bind="click: $root.removeProduct">
                        <svg class="delete-svgIcon" viewBox="0 0 448 512">
                        <path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"></path>
                        </svg>
                      </button>
                </td>

            </tr>
           
        </tbody>
    </table>
    <div><strong>total</strong>: <span data-bind="text: $root.total"></span></div>
    <div class="divider"></div>    

</section>


    <!-- Modelo -->
    <script type="text/javascript">
        function Product(nombre, precio, tags, discount) {
            this.nombre = ko.observable(nombre)
            this.precio = ko.observable(precio)   
            tags = typeof(tags) !== 'undefined' ? tags : []
            discount = typeof(discount) !== 'undefined' ? discount : 0
            this.tags = ko.observableArray(tags)
            this.discount = ko.observable(discount)

            this.formattedDiscount = ko.computed(() => { return (this.discount() * 100) + "%"; }, this)
        }


        function PersonViewModel() {
            let self = this;
            this.firstName = ko.observable("John");
            this.lastName = ko.observable("Doe");

            this.fullName = ko.computed(function() {
                return this.firstName() + " " + this.lastName();
            }, this);

            this.checkout = function() {
                alert("Checkout");
            };

            this.shoppingCard = ko.observableArray([
                new Product("Product 1", 10, ["Hot Dogs", "Burrito"], .20),
                new Product("Product 2", 9.99, ["Tacos", "Pizza"], .10),
                new Product("Product 3", 5, ["Rarem", "Onigiri"], .05),
            ])

            this.addProduct = function() {
                this.shoppingCard.push(new Product("Beer", 7.99));
            }

            self.removeProduct = function(product) {
                //self.shoppingCard.destroy(product);//_destroy permite ordenar una lista observable y extraer solo los elementos eliminados.
                self.shoppingCard.remove(product);
                //alert(self.shoppingCard().length);
                //alert(product._destroy);
            }

            this.debugItems = function() {
                let message = "";
                let nativeArray = this.shoppingCard();
                for (let i=0; i < nativeArray.length; i++) {
                message += nativeArray[i].name + "\n";
                }
                alert(message);
            };

            this.total = ko.computed(function() {
                let total = 0;
                ko.utils.arrayForEach(this.shoppingCard(), function(item) {
                    total += item.precio();
                });
                return Math.abs(total).toFixed(2); ;
            }, this);


        }

        let personViewModel = new PersonViewModel();
        ko.applyBindings(personViewModel);
</script>


</body> 
</html>